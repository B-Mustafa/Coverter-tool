<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Data Structure : Infix Postfix Prefix - Converter &amp Evaluator</title>
    <script src="ds.js"></script>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
  </head>
  <body>

    <div class="container">
        <div class="jumbotron mt-3 text-center">
            <h1 class="lead" style="font-size:10vmin">Postfix &amp Prefix Evaluator</h1>
            <p class="lead">This is a simple Prefix or Postfix Evaluator.</p>
            
            <hr class="my-4">
            <p>Enter the Postfix or Prefix expression below in box and press Evaluate
            <br><small>Note: Enter the number and operators seperated with space " "</small>
            </p>
            <div>
                <label for="expression">
                    <p>Type the Expression below <br><small>prefix : + - 2 7 * 8 / 4 12<br>postfix: 4 55 + 62 23 - * <br> (seperated with space)</small></p>
                    <input type="text" class="form-control form-control-lg" name="expression" id="expression">
                    <br>
                    <label for="posteval">
                    <input type="radio"  name="fixer" checked id="posteval" value="1"> Postfix Evaluate
                    </label>
                    <label for="preeval">
                        <input type="radio"  name="fixer" id="preeval" value="2"> Prefix Evaluate
                    </label>
                        <hr>
                    <a class="btn btn-primary btn-sm" id="convert" role="button" href="./prefixAndPostfixConvertor.html">&lt Convert</a> <button class="btn btn-lg btn-warning" id="evaluate" >Evaluate</button>
                </label>
            </div>
            
            <div id="shortresult">
                <p class="lead">Evaluated :  <span id="eval" class="font-weight-bold"></span>
                <div class="text-center">
                    <small>By Raj</small>
                </div>
            </div>

        </div>

        <div id="fullresult">
            <div class="row">
                    <div class="col-md-8">
                            <table class="table table-striped table-bordered">
                                    <thead class="thead-inverse text-left">
                                        <tr>
                                            <th>Sr. no.</th>
                                            <th>Expression</th>
                                            <th>Stack</th>
                                        </tr>
                                    </thead>
            
                                    <tbody id="tabledata" class="text-left">
                                        
                                       
                                    </tbody>
                                    <br>
                                    <span id="ifpre" class="lead"></span>
                            </table>
                    </div>
    
                    <div class="col-md-4 text-center">
                            <h2>
                                Algorithm used
                            </h2>
                            
                    </div>
            </div>

        </div>
    </div>
      
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>
    <script>
        function sel(x){return document.getElementById(x)}
        $("#fullresult").hide();

        //evaluate button and expression
        $("button#evaluate").click(function(){
            var items, tab = "";
            $("#fullresult").show();

            switch($('input[name=fixer]:checked').val())
            {
                case '1':
                    if(checker(document.getElementById("expression").value) == 0){
                        table = postfixEval(document.getElementById("expression").value);
                    }
                    else{
                        alert("I think this is a prefix expression please select prefix evaluate.");
                    }
                    break;
                case '2':
                    if(checker(document.getElementById("expression").value)==1)
                    {
                        table = prefixEval(document.getElementById("expression").value);
                    }
                    else{
                        alert("I think this is a postfix expression please select postfix evaluate.");
                    }
                    break;
            }
            $("span#eval").html(table.s[table.s.length-1]);
            for(var i = 0; i < table.char.length; i++)
            {
                tab += "<tr><td>" + i +"</td><td>"+table.char[i]+"</td><td>"+table.s[i]+"</td></tr>";
            }

            sel("tabledata").innerHTML = tab;
        })

        
    </script>
</body>
</html>
